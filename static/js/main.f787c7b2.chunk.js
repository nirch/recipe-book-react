(this["webpackJsonprecipe-book-react"]=this["webpackJsonprecipe-book-react"]||[]).push([[0],{64:function(e){e.exports=JSON.parse('[{"id":1,"fname":"Nir","lname":"Channes","email":"nir@nir.com","pwd":"123"},{"id":2,"fname":"John","lname":"Doe","email":"john@john.com","pwd":"123"}]')},65:function(e){e.exports=JSON.parse('[{"id":1,"name":"Shakshuka","desc":"Eggs dish with tomato","img":"https://downshiftology.com/wp-content/uploads/2015/11/shakshuka-12.jpg","userId":1},{"id":2,"name":"Greek Salad","desc":"Tomato and olives and cheese","img":"https://food.fnr.sndimg.com/content/dam/images/food/fullset/2010/4/23/0/BX0204_greek-salad_s4x3.jpg.rend.hgtvcom.616.462.suffix/1529943050536.jpeg","userId":1},{"id":3,"name":"Shakshuka 2","desc":"Eggs dish with tomato","img":"https://downshiftology.com/wp-content/uploads/2015/11/shakshuka-12.jpg","userId":2},{"id":4,"name":"Greek Salad 2","desc":"Tomato and olives and cheese","img":"https://food.fnr.sndimg.com/content/dam/images/food/fullset/2010/4/23/0/BX0204_greek-salad_s4x3.jpg.rend.hgtvcom.616.462.suffix/1529943050536.jpeg","userId":2}]')},66:function(e,a,t){e.exports=t(98)},72:function(e,a,t){},73:function(e,a,t){e.exports=t.p+"static/media/logo.25bf045c.svg"},74:function(e,a,t){},98:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(20),c=t.n(r),i=(t(71),t(72),t(11)),o=t(12),s=t(15),m=t(13),u=t(9),d=t(14),p=(t(73),t(74),t(25)),h=t(100),g=t(101),E=t(102),f=t(107),v=t(109),b=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={redirectToHome:!1},t.logout=t.logout.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"logout",value:function(){this.props.handleLogout(),"#/"!=window.location.hash&&this.setState({redirectToHome:!0})}},{key:"render",value:function(){var e=this.props.activeUser;if(this.state.redirectToHome)return l.a.createElement(p.a,{to:"/"});var a=e?null:l.a.createElement(f.a.Link,{href:"#/signup"},"Signup"),t=e?null:l.a.createElement(f.a.Link,{href:"#/login"},"Login"),n=e?l.a.createElement(f.a.Link,{onClick:this.logout},"Logout"):null;return l.a.createElement(v.a,{bg:"light",expand:"lg"},l.a.createElement(v.a.Brand,{href:"#/"},"Recipe Book"),l.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(f.a,{className:"mr-auto"},l.a.createElement(f.a.Link,{href:"#/recipes"},"Recipes")),l.a.createElement(f.a,{className:"ml-auto"},a,t,n)))}}]),a}(l.a.Component),R=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.activeUser,t=e.handleLogout;return l.a.createElement("div",null,l.a.createElement(b,{activeUser:a,handleLogout:t}),l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement("h1",{className:"display-3"},"Recipe Book"),l.a.createElement("p",null,"Master your recipes"),l.a.createElement("p",null,l.a.createElement(E.a,{variant:"primary",href:"#/login"},"Login")))))}}]),a}(l.a.Component),j=t(103),k=t(106),L=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={invalidLogin:!1,successLogin:!1},t.emailInput=l.a.createRef(),t.pwdInput=l.a.createRef(),t.login=t.login.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"login",value:function(){for(var e=this.props.users,a=null,t=0;t<e.length&&!a;t++)e[t].email===this.emailInput.current.value&&e[t].pwd===this.pwdInput.current.value&&(a=e[t]);a?(this.props.handleLogin(a),this.setState({successLogin:!0})):this.setState({invalidLogin:!0})}},{key:"render",value:function(){return this.state.successLogin?l.a.createElement(p.a,{to:"/recipes"}):l.a.createElement("div",{className:"login"},l.a.createElement("h1",null,"Login to Recipe Book"),l.a.createElement("p",null,"or ",l.a.createElement("a",{href:"#/signup"},"create an account")),l.a.createElement(j.a,{variant:"danger",show:this.state.invalidLogin},"Invalid email or password!"),l.a.createElement(k.a,null,l.a.createElement(k.a.Group,{controlId:"formBasicEmail"},l.a.createElement(k.a.Label,null,"Email address"),l.a.createElement(k.a.Control,{ref:this.emailInput,type:"email",placeholder:"Enter email"}),l.a.createElement(k.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(k.a.Group,{controlId:"formBasicPassword"},l.a.createElement(k.a.Label,null,"Password"),l.a.createElement(k.a.Control,{ref:this.pwdInput,type:"password",placeholder:"Password"})),l.a.createElement(E.a,{variant:"success",type:"button",block:!0,onClick:this.login},"Login")))}}]),a}(l.a.Component),w=t(62),O=t(104),y=t(108),I=t(105),U=t(110),C=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.recipe;return l.a.createElement(U.a,{className:"recipe"},l.a.createElement(U.a.Img,{variant:"top",src:e.img}),l.a.createElement(U.a.Body,null,l.a.createElement(U.a.Title,null,e.name),l.a.createElement(U.a.Text,null,e.desc)))}}]),a}(l.a.Component),S=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={showModal:!1,newRecipeImg:{file:null,URL:""}},t.openModal=t.openModal.bind(Object(u.a)(t)),t.closeModal=t.closeModal.bind(Object(u.a)(t)),t.createRecipe=t.createRecipe.bind(Object(u.a)(t)),t.imgChange=t.imgChange.bind(Object(u.a)(t)),t.nameInput=l.a.createRef(),t.descInput=l.a.createRef(),t.imgInput=l.a.createRef(),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"imgChange",value:function(e){var a={};a.file=e.target.files[0],a.file?a.URL=URL.createObjectURL(a.file):a.URL="",this.setState({newRecipeImg:a})}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"createRecipe",value:function(){var e={name:this.nameInput.current.value,desc:this.descInput.current.value,img:this.state.newRecipeImg.URL};this.props.addRecipe(e),this.closeModal()}},{key:"render",value:function(){var e=this.props,a=e.activeUser,t=e.handleLogout,n=e.recipes,r=this.state,c=r.showModal,i=r.newRecipeImg;if(!a)return l.a.createElement(p.a,{to:"/"});var o=n.map((function(e){return l.a.createElement(w.a,{key:e.id,lg:"3",md:"6"},l.a.createElement(C,{recipe:e}))}));return l.a.createElement("div",null,l.a.createElement(b,{activeUser:a,handleLogout:t}),l.a.createElement(g.a,null,l.a.createElement("div",{className:"recipes-header"},l.a.createElement("h1",null,a.fname,"'s Recipes"),l.a.createElement(E.a,{variant:"primary",onClick:this.openModal},"New Recipe")),l.a.createElement(O.a,null,o)),l.a.createElement(y.a,{show:c,onHide:this.closeModal,size:"lg"},l.a.createElement(y.a.Header,{closeButton:!0},l.a.createElement(y.a.Title,null,"New Recipe")),l.a.createElement(y.a.Body,null,l.a.createElement(k.a,null,l.a.createElement(k.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(k.a.Label,{column:!0,sm:2},"Name"),l.a.createElement(w.a,{sm:10},l.a.createElement(k.a.Control,{ref:this.nameInput,type:"text",placeholder:"Recipe name"}))),l.a.createElement(k.a.Group,{as:O.a,controlId:"formHorizontalPassword"},l.a.createElement(k.a.Label,{column:!0,sm:2},"Description"),l.a.createElement(w.a,{sm:10},l.a.createElement(k.a.Control,{ref:this.descInput,type:"text",placeholder:"Recipe description"}))),l.a.createElement(k.a.Group,{as:O.a,controlId:"formHorizontalPassword"},l.a.createElement(k.a.Label,{column:!0,sm:2},"Image"),l.a.createElement(w.a,{sm:6},l.a.createElement(k.a.Control,{type:"file",placeholder:"Recipe image URL",accept:"image/*",onChange:this.imgChange})),l.a.createElement(w.a,{sm:4},l.a.createElement(I.a,{src:i.URL,fluid:!0}))))),l.a.createElement(y.a.Footer,null,l.a.createElement(E.a,{variant:"secondary",onClick:this.closeModal},"Close"),l.a.createElement(E.a,{variant:"primary",onClick:this.createRecipe},"Create Recipe"))))}}]),a}(l.a.Component),x=t(64),M=t(65),B=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={activeUser:null,allUsers:x,allRecipes:M,activeUserRecipes:[]},t.handleLogout=t.handleLogout.bind(Object(u.a)(t)),t.handleLogin=t.handleLogin.bind(Object(u.a)(t)),t.addRecipe=t.addRecipe.bind(Object(u.a)(t)),console.log(t.state.allRecipes),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"handleLogout",value:function(){this.setState({activeUser:null})}},{key:"handleLogin",value:function(e){var a=this.state.allRecipes.filter((function(a){return a.userId===e.id}));this.setState({activeUser:e,activeUserRecipes:a})}},{key:"addRecipe",value:function(e){e.userId=this.state.activeUser.id,e.id=this.state.allRecipes[this.state.allRecipes.length-1].id+1;var a=this.state.allRecipes.concat(e),t=this.state.activeUserRecipes.concat(e);this.setState({allRecipes:a,activeUserRecipes:t})}},{key:"render",value:function(){var e=this.state,a=e.activeUser,t=e.allUsers,n=e.activeUserRecipes;return l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/"},l.a.createElement(R,{activeUser:a,handleLogout:this.handleLogout})),l.a.createElement(p.b,{path:"/login"},l.a.createElement(L,{users:t,handleLogin:this.handleLogin})),l.a.createElement(p.b,{path:"/recipes"},l.a.createElement(S,{recipes:n,activeUser:a,handleLogout:this.handleLogout,addRecipe:this.addRecipe})))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=t(29);c.a.render(l.a.createElement(N.a,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.f787c7b2.chunk.js.map