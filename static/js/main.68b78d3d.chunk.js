(this["webpackJsonprecipe-book-react"]=this["webpackJsonprecipe-book-react"]||[]).push([[0],{64:function(e){e.exports=JSON.parse('[{"id":1,"fname":"Nir","lname":"Channes","email":"nir@nir.com","pwd":"123"},{"id":2,"fname":"John","lname":"Doe","email":"john@john.com","pwd":"123"}]')},65:function(e){e.exports=JSON.parse('[{"id":1,"name":"Shakshuka","desc":"Eggs dish with tomato","img":"https://downshiftology.com/wp-content/uploads/2015/11/shakshuka-12.jpg","userId":1},{"id":2,"name":"Greek Salad","desc":"Tomato and olives and cheese","img":"https://food.fnr.sndimg.com/content/dam/images/food/fullset/2010/4/23/0/BX0204_greek-salad_s4x3.jpg.rend.hgtvcom.616.462.suffix/1529943050536.jpeg","userId":1},{"id":3,"name":"Shakshuka 2","desc":"Eggs dish with tomato","img":"https://downshiftology.com/wp-content/uploads/2015/11/shakshuka-12.jpg","userId":2},{"id":4,"name":"Greek Salad 2","desc":"Tomato and olives and cheese","img":"https://food.fnr.sndimg.com/content/dam/images/food/fullset/2010/4/23/0/BX0204_greek-salad_s4x3.jpg.rend.hgtvcom.616.462.suffix/1529943050536.jpeg","userId":2}]')},66:function(e,a,t){e.exports=t(98)},72:function(e,a,t){},73:function(e,a,t){e.exports=t.p+"static/media/logo.25bf045c.svg"},74:function(e,a,t){},98:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),o=(t(71),t(72),t(11)),i=t(12),s=t(14),u=t(13),m=t(9),d=t(15),p=(t(73),t(74),t(25)),h=t(100),g=t(101),E=t(102),v=t(106),f=t(108),b=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={redirectToHome:!1},t.logout=t.logout.bind(Object(m.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"logout",value:function(){this.props.handleLogout(),"#/"!=window.location.hash&&this.setState({redirectToHome:!0})}},{key:"render",value:function(){var e=this.props.activeUser;if(this.state.redirectToHome)return r.a.createElement(p.a,{to:"/"});var a=e?null:r.a.createElement(v.a.Link,{href:"#/signup"},"Signup"),t=e?null:r.a.createElement(v.a.Link,{href:"#/login"},"Login"),n=e?r.a.createElement(v.a.Link,{onClick:this.logout},"Logout"):null;return r.a.createElement(f.a,{bg:"light",expand:"lg"},r.a.createElement(f.a.Brand,{href:"#/"},"Recipe Book"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(v.a.Link,{href:"#/recipes"},"Recipes")),r.a.createElement(v.a,{className:"ml-auto"},a,t,n)))}}]),a}(r.a.Component),j=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.activeUser,t=e.handleLogout;return r.a.createElement("div",null,r.a.createElement(b,{activeUser:a,handleLogout:t}),r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement("h1",{className:"display-3"},"Recipe Book"),r.a.createElement("p",null,"Master your recipes"),r.a.createElement("p",null,r.a.createElement(E.a,{variant:"primary",href:"#/login"},"Login")))))}}]),a}(r.a.Component),k=t(103),L=t(105),O=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={invalidLogin:!1,successLogin:!1},t.emailInput=r.a.createRef(),t.pwdInput=r.a.createRef(),t.login=t.login.bind(Object(m.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"login",value:function(){for(var e=this.props.users,a=null,t=0;t<e.length&&!a;t++)e[t].email===this.emailInput.current.value&&e[t].pwd===this.pwdInput.current.value&&(a=e[t]);a?(this.props.handleLogin(a),this.setState({successLogin:!0})):this.setState({invalidLogin:!0})}},{key:"render",value:function(){return this.state.successLogin?r.a.createElement(p.a,{to:"/recipes"}):r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login to Recipe Book"),r.a.createElement("p",null,"or ",r.a.createElement("a",{href:"#/signup"},"create an account")),r.a.createElement(k.a,{variant:"danger",show:this.state.invalidLogin},"Invalid email or password!"),r.a.createElement(L.a,null,r.a.createElement(L.a.Group,{controlId:"formBasicEmail"},r.a.createElement(L.a.Label,null,"Email address"),r.a.createElement(L.a.Control,{ref:this.emailInput,type:"email",placeholder:"Enter email"}),r.a.createElement(L.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(L.a.Group,{controlId:"formBasicPassword"},r.a.createElement(L.a.Label,null,"Password"),r.a.createElement(L.a.Control,{ref:this.pwdInput,type:"password",placeholder:"Password"})),r.a.createElement(E.a,{variant:"success",type:"button",block:!0,onClick:this.login},"Login")))}}]),a}(r.a.Component),R=t(62),w=t(104),y=t(107),I=t(109),U=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.recipe;return r.a.createElement(I.a,{className:"recipe"},r.a.createElement(I.a.Img,{variant:"top",src:e.img}),r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,null,e.name),r.a.createElement(I.a.Text,null,e.desc)))}}]),a}(r.a.Component),C=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={showModal:!1},t.openModal=t.openModal.bind(Object(m.a)(t)),t.closeModal=t.closeModal.bind(Object(m.a)(t)),t.createRecipe=t.createRecipe.bind(Object(m.a)(t)),t.nameInput=r.a.createRef(),t.descInput=r.a.createRef(),t.imgInput=r.a.createRef(),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"createRecipe",value:function(){var e={name:this.nameInput.current.value,desc:this.descInput.current.value,img:this.imgInput.current.value};this.props.addRecipe(e),this.closeModal()}},{key:"render",value:function(){var e=this.props,a=e.activeUser,t=e.handleLogout,n=e.recipes,l=this.state.showModal;if(!a)return r.a.createElement(p.a,{to:"/"});var c=n.map((function(e){return r.a.createElement(R.a,{key:e.id,lg:"3",md:"6"},r.a.createElement(U,{recipe:e}))}));return r.a.createElement("div",null,r.a.createElement(b,{activeUser:a,handleLogout:t}),r.a.createElement(g.a,null,r.a.createElement("div",{className:"recipes-header"},r.a.createElement("h1",null,a.fname,"'s Recipes"),r.a.createElement(E.a,{variant:"primary",onClick:this.openModal},"New Recipe")),r.a.createElement(w.a,null,c)),r.a.createElement(y.a,{show:l,onHide:this.closeModal,size:"lg"},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"New Recipe")),r.a.createElement(y.a.Body,null,r.a.createElement(L.a,null,r.a.createElement(L.a.Group,{as:w.a,controlId:"formHorizontalEmail"},r.a.createElement(L.a.Label,{column:!0,sm:2},"Name"),r.a.createElement(R.a,{sm:10},r.a.createElement(L.a.Control,{ref:this.nameInput,type:"text",placeholder:"Recipe name"}))),r.a.createElement(L.a.Group,{as:w.a,controlId:"formHorizontalPassword"},r.a.createElement(L.a.Label,{column:!0,sm:2},"Description"),r.a.createElement(R.a,{sm:10},r.a.createElement(L.a.Control,{ref:this.descInput,type:"text",placeholder:"Recipe description"}))),r.a.createElement(L.a.Group,{as:w.a,controlId:"formHorizontalPassword"},r.a.createElement(L.a.Label,{column:!0,sm:2},"Image URL"),r.a.createElement(R.a,{sm:10},r.a.createElement(L.a.Control,{ref:this.imgInput,type:"text",placeholder:"Recipe image URL"}))))),r.a.createElement(y.a.Footer,null,r.a.createElement(E.a,{variant:"secondary",onClick:this.closeModal},"Close"),r.a.createElement(E.a,{variant:"primary",onClick:this.createRecipe},"Create Recipe"))))}}]),a}(r.a.Component),x=t(64),M=t(65),S=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={activeUser:null,allUsers:x,allRecipes:M,activeUserRecipes:[]},t.handleLogout=t.handleLogout.bind(Object(m.a)(t)),t.handleLogin=t.handleLogin.bind(Object(m.a)(t)),t.addRecipe=t.addRecipe.bind(Object(m.a)(t)),console.log(t.state.allRecipes),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"handleLogout",value:function(){this.setState({activeUser:null})}},{key:"handleLogin",value:function(e){var a=this.state.allRecipes.filter((function(a){return a.userId===e.id}));this.setState({activeUser:e,activeUserRecipes:a})}},{key:"addRecipe",value:function(e){e.userId=this.state.activeUser.id,e.id=this.state.allRecipes[this.state.allRecipes.length-1].id+1;var a=this.state.allRecipes.concat(e),t=this.state.activeUserRecipes.concat(e);this.setState({allRecipes:a,activeUserRecipes:t})}},{key:"render",value:function(){var e=this.state,a=e.activeUser,t=e.allUsers,n=e.activeUserRecipes;return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(j,{activeUser:a,handleLogout:this.handleLogout})),r.a.createElement(p.b,{path:"/login"},r.a.createElement(O,{users:t,handleLogin:this.handleLogin})),r.a.createElement(p.b,{path:"/recipes"},r.a.createElement(C,{recipes:n,activeUser:a,handleLogout:this.handleLogout,addRecipe:this.addRecipe})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=t(29);c.a.render(r.a.createElement(B.a,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.68b78d3d.chunk.js.map